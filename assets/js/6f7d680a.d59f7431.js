"use strict";(globalThis.webpackChunkbook_site=globalThis.webpackChunkbook_site||[]).push([[8777],{9405:(e,s,r)=>{r.d(s,{p:()=>o});class n{users=[];sessions=[];constructor(){"undefined"!=typeof window&&this.loadUsersFromStorage()}loadUsersFromStorage(){if("undefined"==typeof window)return;const e=localStorage.getItem("mock-users");if(e)try{this.users=JSON.parse(e)}catch(s){console.error("Error parsing stored users:",s),this.users=[]}}saveUsersToStorage(){"undefined"!=typeof window&&localStorage.setItem("mock-users",JSON.stringify(this.users))}async signUp(e){try{if(this.users.find(s=>s.email===e.email))return{error:{message:"User already exists"}};const s={id:Date.now().toString(),email:e.email,password:e.password,profile:{yearsOfExperience:e.profile.yearsOfExperience,hardwareKnowledge:e.profile.hardwareKnowledge,favoriteLanguage:e.profile.favoriteLanguage},createdAt:(new Date).toISOString()};this.users.push(s),this.saveUsersToStorage();const r=`session_${Date.now()}`;return this.sessions.push({id:r,userId:s.id,expiresAt:new Date(Date.now()+6048e5).toISOString()}),"undefined"!=typeof window&&localStorage.setItem("mock-session",JSON.stringify({user:s,sessionId:r})),{user:s,session:{id:r,userId:s.id,expiresAt:new Date(Date.now()+6048e5).toISOString()}}}catch(s){return console.error("Sign up error:",s),{error:{message:"An error occurred during sign up"}}}}async signIn(e){try{const s=this.users.find(s=>s.email===e.email);if(!s)return{error:{message:"Invalid email or password"}};if(s.password!==e.password)return{error:{message:"Invalid email or password"}};const r=`session_${Date.now()}`;return this.sessions.push({id:r,userId:s.id,expiresAt:new Date(Date.now()+6048e5).toISOString()}),"undefined"!=typeof window&&localStorage.setItem("mock-session",JSON.stringify({user:s,sessionId:r})),{user:s,session:{id:r,userId:s.id,expiresAt:new Date(Date.now()+6048e5).toISOString()}}}catch(s){return console.error("Sign in error:",s),{error:{message:"An error occurred during sign in"}}}}async getCurrentUser(){if("undefined"==typeof window)return null;const e=localStorage.getItem("mock-session");if(!e)return null;return JSON.parse(e).user}async signOut(){return"undefined"!=typeof window&&localStorage.removeItem("mock-session"),{success:!0}}}let i;i="undefined"!=typeof window?new n:{signUp:async()=>({error:{message:"Authentication not available during server-side rendering"}}),signIn:async()=>({error:{message:"Authentication not available during server-side rendering"}}),getCurrentUser:async()=>null,signOut:async()=>({success:!0})};const o={signUp:async e=>i.signUp(e),signIn:async e=>i.signIn(e),getCurrentUser:async()=>i.getCurrentUser(),signOut:async()=>i.signOut()}},9930:(e,s,r)=>{r.r(s),r.d(s,{default:()=>u});var n=r(6540),i=r(6347),o=r(6025),a=r(8774),t=r(797),d=r(9785),l=r(9405),c=r(4848);function u(){const[e,s]=(0,n.useState)(""),[r,u]=(0,n.useState)(!1),g=(0,i.W6)(),m=(0,o.Ay)("/"),{register:p,handleSubmit:h,formState:{errors:w}}=(0,d.mN)();return(0,c.jsx)(t.A,{title:"Sign In",description:"Sign in to your account for the Physical AI textbook",children:(0,c.jsx)("div",{className:"container margin-vert--lg",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col col--6 col--offset-3",children:(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("div",{className:"card__header",children:(0,c.jsx)("h2",{children:"Sign In"})}),(0,c.jsxs)("div",{className:"card__body",children:[e&&(0,c.jsx)("div",{className:"alert alert--danger",children:e}),(0,c.jsxs)("form",{onSubmit:h(async e=>{u(!0),s("");try{const s=await l.p.signIn({email:e.email,password:e.password});if(s.error)throw new Error(s.error?.message||"Sign in failed");console.log("Redirecting to home page..."),g.push(m)}catch(r){s(r.message||"An error occurred during sign in"),console.error("Sign in error:",r)}finally{u(!1)}}),children:[(0,c.jsxs)("div",{className:"margin-bottom--md",children:[(0,c.jsx)("label",{htmlFor:"email",children:"Email"}),(0,c.jsx)("input",{type:"email",id:"email",className:"form-control",style:{width:"100%",padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px"},...p("email",{required:"Email is required"})}),w.email&&(0,c.jsx)("div",{className:"alert alert--warning margin-top--sm",children:w.email.message})]}),(0,c.jsxs)("div",{className:"margin-bottom--md",children:[(0,c.jsx)("label",{htmlFor:"password",children:"Password"}),(0,c.jsx)("input",{type:"password",id:"password",className:"form-control",style:{width:"100%",padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px"},...p("password",{required:"Password is required"})}),w.password&&(0,c.jsx)("div",{className:"alert alert--warning margin-top--sm",children:w.password.message})]}),(0,c.jsx)("div",{className:"button-group button-group--block",children:(0,c.jsx)("button",{type:"submit",className:"button button--primary",disabled:r,children:r?"Signing In...":"Sign In"})})]})]}),(0,c.jsx)("div",{className:"card__footer",children:(0,c.jsxs)("p",{children:["Don't have an account? ",(0,c.jsx)(a.A,{to:"/signup",children:"Sign Up"})]})})]})})})})})}}}]);